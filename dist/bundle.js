!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fountainer=e():t.fountainer=e()}(self,(function(){return(()=>{var t={5902:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(3645),o=r.n(n)()((function(t){return t[1]}));o.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap);"]),o.push([t.id,'/*\n| Block Type                  | Left Margin | Right Margin |\n| ----------------------------| ----------- | ------------ |\n| Action, Scene               | 1.5"        | 1"           |\n| Transition-right            | 5.5"        | 1"           |\n| Character                   | 3.5"        | 1"           |\n| Parenthetical               | 3"          | 3.25"        |\n| Dialogue                    | 2.5"        | 2.5"         |\n| Dual dialogue character     | 2.75" 5.75" | 4.5" 1.25"   |\n| Dual dialogue parenthetical | 2.25" 5.25" | 4.5" 1.25"   |\n| Dual dialogue               | 2" 5"       | 4" 1"        |\n*/\n\n:root {\n  --page-width: 8.5in;\n  --left: 1.5in;\n  --right: 1in;\n  --transition-left: 5.5in;\n  --transition-right: 1in;\n  --character-left: 3.5in;\n  --character-right: 1in;\n  --paren-left: 3in;\n  --paren-right: 3.25in;\n  --dialogue-left: 2.5in;\n  --dialogue-right: 2.5in;\n  --dual-left: 2in;\n  --dual-right: 1in;\n  --dual-gutter: 0.25in;\n  --dual-dialogue-left: 2in;\n  --dial-dialogue-right: 1in;\n  --dual-character-left: 0.75in;\n  --dual-character-right: 0.25in;\n  --dual-paren-left: 0.25in;\n  --dual-parent-right: 0.25in;\n  --notes-left: 1in;\n  --notes-right: 1in;\n  --font-family: "Courier Prime", "Courier New", Courier, monospace;\n  --font-size: 12pt;\n  --line-height: 14pt;\n  --notes-color: #aaa;\n  --display-notes: none;\n  --bg-color: #fff;\n  --color: #000;\n}\n\n.fountainer {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: var(--line-height);\n  background-color: var(--bg-color);\n  width: var(--page-width);\n  color: var(--color);\n  margin: 0 auto;\n  position: relative;\n}\n\n.fountainer .title-page {\n  text-align: center;\n}\n\n.fountainer .title {\n  margin-bottom: 1em;\n}\n\n.fountainer .contact {\n  margin-top: 1em;\n}\n\n.fountainer .scene {\n  font-weight: bold;\n}\n\n.fountainer .center {\n  text-align: center;\n}\n\n.fountainer .character {\n  margin: 0 var(--character-right) 0 var(--character-left);\n}\n\n.fountainer .dialogue-line {\n  margin: 0 var(--dialogue-right) 0 var(--dialogue-left);\n}\n\n.fountainer .dialogue-paren {\n  margin: 0 var(--paren-right) 0 var(--paren-left);\n}\n\n.fountainer .line {\n  margin: 0 var(--right) 0 var(--left);\n}\n\n.fountainer .action,\n.fountainer .center,\n.fountainer .shot,\n.fountainer .scene,\n.fountainer .transition {\n  margin: 0 var(--right) 0 var(--left);\n}\n\n.fountainer .transition-right {\n  margin: 0 var(--transition-right) 0 var(--transition-left);\n}\n\n.fountainer .dual-dialogue {\n  display: flex;\n  flex-wrap: wrap;\n  box-sizing: border-box;\n  align-items: flex-start;\n  margin: 0 var(--right) 0 var(--left);\n}\n\n.fountainer .dual-dialogue .dialogue {\n  display: block;\n  box-sizing: border-box;\n  flex: 1 0 0%;\n  padding: 0 var(--dual-gutter);\n}\n\n.fountainer .dual-dialogue .character {\n  margin: 0 var(--dual-character-right) 0 var(--dual-character-left);\n}\n\n.fountainer .dual-dialogue .dialogue-paren {\n  margin: 0 var(--dual-parent-right) 0 var(--dual-paren-left);\n}\n\n.fountainer .dual-dialogue .dialogue-line {\n  margin: 0;\n}\n\n.fountainer .section,\n.fountainer .notes {\n  display: var(--display-notes);\n  font-style: italic;\n  color: var(--notes-color);\n  margin: 0 var(--notes-right) 0 var(--notes-left);\n}\n\n.fountainer .section {\n  font-weight: bold;\n}\n',""]);const a=o},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=t(e);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var u=0;u<t.length;u++){var s=[].concat(t[u]);n&&o[s[0]]||(r&&(s[2]?s[2]="".concat(r," and ").concat(s[2]):s[2]=r),e.push(s))}},e}},8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),o=r(401),a=r(7667),i=r(1327),u=r(1866);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=u,t.exports=s},8407:(t,e,r)=>{var n=r(7040),o=r(4125),a=r(2117),i=r(7529),u=r(4705);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=u,t.exports=s},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),o=r(1285),a=r(6e3),i=r(9916),u=r(5265);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=u,t.exports=s},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},8668:(t,e,r)=>{var n=r(3369),o=r(619),a=r(2385);function i(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,t.exports=i},6384:(t,e,r)=>{var n=r(8407),o=r(7465),a=r(3779),i=r(7599),u=r(4758),s=r(4309);function f(t){var e=this.__data__=new n(t);this.size=e.size}f.prototype.clear=o,f.prototype.delete=a,f.prototype.get=i,f.prototype.has=u,f.prototype.set=s,t.exports=f},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},7412:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4963:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a}},4636:(t,e,r)=>{var n=r(2545),o=r(5694),a=r(1469),i=r(4144),u=r(5776),s=r(6719),f=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),c=!r&&o(t),l=!r&&!c&&i(t),p=!r&&!c&&!l&&s(t),d=r||c||l||p,h=d?n(t.length,String):[],v=h.length;for(var g in t)!e&&!f.call(t,g)||d&&("length"==g||l&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||h.push(g);return h}},9932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},2663:t=>{t.exports=function(t,e,r,n){var o=-1,a=null==t?0:t.length;for(n&&a&&(r=t[++o]);++o<a;)r=e(r,t[o],o,t);return r}},2908:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},4286:t=>{t.exports=function(t){return t.split("")}},9029:t=>{var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(e)||[]}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},9465:(t,e,r)=>{var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},9881:(t,e,r)=>{var n=r(7816),o=r(9291)(n);t.exports=o},1078:(t,e,r)=>{var n=r(2488),o=r(7285);t.exports=function t(e,r,a,i,u){var s=-1,f=e.length;for(a||(a=o),u||(u=[]);++s<f;){var c=e[s];r>0&&a(c)?r>1?t(c,r-1,a,i,u):n(u,c):i||(u[u.length]=c)}return u}},8483:(t,e,r)=>{var n=r(5063)();t.exports=n},7816:(t,e,r)=>{var n=r(8483),o=r(3674);t.exports=function(t,e){return t&&n(t,e,o)}},7786:(t,e,r)=>{var n=r(1811),o=r(327);t.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[o(e[r++])];return r&&r==a?t:void 0}},8866:(t,e,r)=>{var n=r(2488),o=r(1469);t.exports=function(t,e,r){var a=e(t);return o(t)?a:n(a,r(t))}},4239:(t,e,r)=>{var n=r(2705),o=r(9607),a=r(2333),i=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):a(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},9454:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},939:(t,e,r)=>{var n=r(2492),o=r(7005);t.exports=function t(e,r,a,i,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,a,i,t,u))}},2492:(t,e,r)=>{var n=r(6384),o=r(7114),a=r(8351),i=r(6096),u=r(4160),s=r(1469),f=r(4144),c=r(6719),l="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,v,g,b){var x=s(t),y=s(e),_=x?p:u(t),j=y?p:u(e),m=(_=_==l?d:_)==d,A=(j=j==l?d:j)==d,w=_==j;if(w&&f(t)){if(!f(e))return!1;x=!0,m=!1}if(w&&!m)return b||(b=new n),x||c(t)?o(t,e,r,v,g,b):a(t,e,_,r,v,g,b);if(!(1&r)){var C=m&&h.call(t,"__wrapped__"),O=A&&h.call(e,"__wrapped__");if(C||O){var E=C?t.value():t,T=O?e.value():e;return b||(b=new n),g(E,T,r,v,b)}}return!!w&&(b||(b=new n),i(t,e,r,v,g,b))}},2958:(t,e,r)=>{var n=r(6384),o=r(939);t.exports=function(t,e,r,a){var i=r.length,u=i,s=!a;if(null==t)return!u;for(t=Object(t);i--;){var f=r[i];if(s&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++i<u;){var c=(f=r[i])[0],l=t[c],p=f[1];if(s&&f[2]){if(void 0===l&&!(c in t))return!1}else{var d=new n;if(a)var h=a(l,p,c,t,e,d);if(!(void 0===h?o(p,l,3,a,d):h))return!1}}return!0}},8458:(t,e,r)=>{var n=r(3560),o=r(5346),a=r(3218),i=r(346),u=/^\[object .+?Constructor\]$/,s=Function.prototype,f=Object.prototype,c=s.toString,l=f.hasOwnProperty,p=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||o(t))&&(n(t)?p:u).test(i(t))}},8749:(t,e,r)=>{var n=r(4239),o=r(1780),a=r(7005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&o(t.length)&&!!i[n(t)]}},7206:(t,e,r)=>{var n=r(1573),o=r(6432),a=r(6557),i=r(1469),u=r(9601);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?i(t)?o(t[0],t[1]):n(t):u(t)}},280:(t,e,r)=>{var n=r(5726),o=r(6916),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},1573:(t,e,r)=>{var n=r(2958),o=r(1499),a=r(2634);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},6432:(t,e,r)=>{var n=r(939),o=r(7361),a=r(9095),i=r(5403),u=r(9162),s=r(2634),f=r(327);t.exports=function(t,e){return i(t)&&u(e)?s(f(t),e):function(r){var i=o(r,t);return void 0===i&&i===e?a(r,t):n(e,i,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,r)=>{var n=r(7786);t.exports=function(t){return function(e){return n(e,t)}}},8674:t=>{t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},4259:t=>{t.exports=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(o);++n<o;)a[n]=t[n+e];return a}},2545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},531:(t,e,r)=>{var n=r(2705),o=r(9932),a=r(1469),i=r(3448),u=n?n.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return o(e,t)+"";if(i(e))return s?s.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},7518:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},4290:(t,e,r)=>{var n=r(6557);t.exports=function(t){return"function"==typeof t?t:n}},1811:(t,e,r)=>{var n=r(1469),o=r(5403),a=r(5514),i=r(9833);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:a(i(t))}},180:(t,e,r)=>{var n=r(4259);t.exports=function(t,e,r){var o=t.length;return r=void 0===r?o:r,!e&&r>=o?t:n(t,e,r)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},9291:(t,e,r)=>{var n=r(8612);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var a=r.length,i=e?a:-1,u=Object(r);(e?i--:++i<a)&&!1!==o(u[i],i,u););return r}}},5063:t=>{t.exports=function(t){return function(e,r,n){for(var o=-1,a=Object(e),i=n(e),u=i.length;u--;){var s=i[t?u:++o];if(!1===r(a[s],s,a))break}return e}}},8805:(t,e,r)=>{var n=r(180),o=r(2689),a=r(3140),i=r(9833);t.exports=function(t){return function(e){e=i(e);var r=o(e)?a(e):void 0,u=r?r[0]:e.charAt(0),s=r?n(r,1).join(""):e.slice(1);return u[t]()+s}}},5393:(t,e,r)=>{var n=r(2663),o=r(3816),a=r(8748),i=RegExp("['’]","g");t.exports=function(t){return function(e){return n(a(o(e).replace(i,"")),t,"")}}},9389:(t,e,r)=>{var n=r(8674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});t.exports=n},8777:(t,e,r)=>{var n=r(852),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,r)=>{var n=r(8668),o=r(2908),a=r(4757);t.exports=function(t,e,r,i,u,s){var f=1&r,c=t.length,l=e.length;if(c!=l&&!(f&&l>c))return!1;var p=s.get(t),d=s.get(e);if(p&&d)return p==e&&d==t;var h=-1,v=!0,g=2&r?new n:void 0;for(s.set(t,e),s.set(e,t);++h<c;){var b=t[h],x=e[h];if(i)var y=f?i(x,b,h,e,t,s):i(b,x,h,t,e,s);if(void 0!==y){if(y)continue;v=!1;break}if(g){if(!o(e,(function(t,e){if(!a(g,e)&&(b===t||u(b,t,r,i,s)))return g.push(e)}))){v=!1;break}}else if(b!==x&&!u(b,x,r,i,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},8351:(t,e,r)=>{var n=r(2705),o=r(1149),a=r(7813),i=r(7114),u=r(8776),s=r(1814),f=n?n.prototype:void 0,c=f?f.valueOf:void 0;t.exports=function(t,e,r,n,f,l,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var h=1&n;if(d||(d=s),t.size!=e.size&&!h)return!1;var v=p.get(t);if(v)return v==e;n|=2,p.set(t,e);var g=i(d(t),d(e),n,f,l,p);return p.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},6096:(t,e,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,a,i,u){var s=1&r,f=n(t),c=f.length;if(c!=n(e).length&&!s)return!1;for(var l=c;l--;){var p=f[l];if(!(s?p in e:o.call(e,p)))return!1}var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var v=!0;u.set(t,e),u.set(e,t);for(var g=s;++l<c;){var b=t[p=f[l]],x=e[p];if(a)var y=s?a(x,b,p,e,t,u):a(b,x,p,t,e,u);if(!(void 0===y?b===x||i(b,x,r,a,u):y)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var _=t.constructor,j=e.constructor;_==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof j&&j instanceof j||(v=!1)}return u.delete(t),u.delete(e),v}},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),o=r(9551),a=r(3674);t.exports=function(t){return n(t,a,o)}},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},1499:(t,e,r)=>{var n=r(9162),o=r(3674);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var a=e[r],i=t[a];e[r]=[a,i,n(i)]}return e}},852:(t,e,r)=>{var n=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},9607:(t,e,r)=>{var n=r(2705),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=i.call(t);return n&&(e?t[u]=r:delete t[u]),o}},9551:(t,e,r)=>{var n=r(4963),o=r(479),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,u=i?function(t){return null==t?[]:(t=Object(t),n(i(t),(function(e){return a.call(t,e)})))}:o;t.exports=u},4160:(t,e,r)=>{var n=r(8552),o=r(7071),a=r(3818),i=r(8525),u=r(577),s=r(4239),f=r(346),c="[object Map]",l="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=f(n),g=f(o),b=f(a),x=f(i),y=f(u),_=s;(n&&_(new n(new ArrayBuffer(1)))!=h||o&&_(new o)!=c||a&&_(a.resolve())!=l||i&&_(new i)!=p||u&&_(new u)!=d)&&(_=function(t){var e=s(t),r="[object Object]"==e?t.constructor:void 0,n=r?f(r):"";if(n)switch(n){case v:return h;case g:return c;case b:return l;case x:return p;case y:return d}return e}),t.exports=_},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,r)=>{var n=r(1811),o=r(5694),a=r(1469),i=r(5776),u=r(1780),s=r(327);t.exports=function(t,e,r){for(var f=-1,c=(e=n(e,t)).length,l=!1;++f<c;){var p=s(e[f]);if(!(l=null!=t&&r(t,p)))break;t=t[p]}return l||++f!=c?l:!!(c=null==t?0:t.length)&&u(c)&&i(p,c)&&(a(t)||o(t))}},2689:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},3157:t=>{var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return e.test(t)}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},7285:(t,e,r)=>{var n=r(2705),o=r(5694),a=r(1469),i=n?n.isConcatSpreadable:void 0;t.exports=function(t){return a(t)||o(t)||!!(i&&t&&t[i])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},5403:(t,e,r)=>{var n=r(1469),o=r(3448),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||i.test(t)||!a.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,o=r(4429),a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},9162:(t,e,r)=>{var n=r(3218);t.exports=function(t){return t==t&&!n(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7529:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),o=r(8407),a=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},2634:t=>{t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},4523:(t,e,r)=>{var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,i=a&&a.exports===o&&n.process,u=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5639:(t,e,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();t.exports=a},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},7465:(t,e,r)=>{var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,r)=>{var n=r(8407),o=r(7071),a=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!o||i.length<199)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(i)}return r.set(t,e),this.size=r.size,this}},3140:(t,e,r)=>{var n=r(4286),o=r(2689),a=r(676);t.exports=function(t){return o(t)?a(t):n(t)}},5514:(t,e,r)=>{var n=r(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(a,"$1"):r||t)})),e}));t.exports=i},327:(t,e,r)=>{var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},676:t=>{var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",n="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",i="(?:"+e+"|"+r+")?",u="[\\ufe0e\\ufe0f]?",s=u+i+"(?:\\u200d(?:"+[n,o,a].join("|")+")"+u+i+")*",f="(?:"+[n+e+"?",e,o,a,"[\\ud800-\\udfff]"].join("|")+")",c=RegExp(r+"(?="+r+")|"+f+s,"g");t.exports=function(t){return t.match(c)||[]}},2757:t=>{var e="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+n+"]",a="\\d+",i="["+e+"]",u="[^\\ud800-\\udfff"+n+a+"\\u2700-\\u27bf"+e+r+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",c="["+r+"]",l="(?:"+i+"|"+u+")",p="(?:"+c+"|"+u+")",d="(?:['’](?:d|ll|m|re|s|t|ve))?",h="(?:['’](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",b=g+v+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,f].join("|")+")"+g+v+")*",x="(?:"+["[\\u2700-\\u27bf]",s,f].join("|")+")"+b,y=RegExp([c+"?"+i+"+"+d+"(?="+[o,c,"$"].join("|")+")",p+"+"+h+"(?="+[o,c+l,"$"].join("|")+")",c+"?"+l+"+"+d,c+"+"+h,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,x].join("|"),"g");t.exports=function(t){return t.match(y)||[]}},8929:(t,e,r)=>{var n=r(8403),o=r(5393)((function(t,e,r){return e=e.toLowerCase(),t+(r?n(e):e)}));t.exports=o},8403:(t,e,r)=>{var n=r(9833),o=r(1700);t.exports=function(t){return o(n(t).toLowerCase())}},3816:(t,e,r)=>{var n=r(9389),o=r(9833),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=o(t))&&t.replace(a,n).replace(i,"")}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},2348:(t,e,r)=>{var n=r(1078);t.exports=function(t){return null!=t&&t.length?n(t,1/0):[]}},4486:(t,e,r)=>{var n=r(7412),o=r(9881),a=r(4290),i=r(1469);t.exports=function(t,e){return(i(t)?n:o)(t,a(e))}},2525:(t,e,r)=>{var n=r(7816),o=r(4290);t.exports=function(t,e){return t&&n(t,o(e))}},7361:(t,e,r)=>{var n=r(7786);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},9095:(t,e,r)=>{var n=r(13),o=r(222);t.exports=function(t,e){return null!=t&&o(t,e,n)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,r)=>{var n=r(9454),o=r(7005),a=Object.prototype,i=a.hasOwnProperty,u=a.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return o(t)&&i.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),o=r(1780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=r(5062),a=e&&!e.nodeType&&e,i=a&&t&&!t.nodeType&&t,u=i&&i.exports===a?n.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s},3560:(t,e,r)=>{var n=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},7037:(t,e,r)=>{var n=r(4239),o=r(1469),a=r(7005);t.exports=function(t){return"string"==typeof t||!o(t)&&a(t)&&"[object String]"==n(t)}},3448:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},6719:(t,e,r)=>{var n=r(8749),o=r(7518),a=r(1167),i=a&&a.isTypedArray,u=i?o(i):n;t.exports=u},1804:(t,e,r)=>{var n=r(5393)((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}));t.exports=n},3674:(t,e,r)=>{var n=r(4636),o=r(280),a=r(8612);t.exports=function(t){return a(t)?n(t):o(t)}},6604:(t,e,r)=>{var n=r(9465),o=r(7816),a=r(7206);t.exports=function(t,e){var r={};return e=a(e,3),o(t,(function(t,o,a){n(r,o,e(t,o,a))})),r}},8306:(t,e,r)=>{var n=r(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},9601:(t,e,r)=>{var n=r(371),o=r(9152),a=r(5403),i=r(327);t.exports=function(t){return a(t)?n(i(t)):o(t)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},9833:(t,e,r)=>{var n=r(531);t.exports=function(t){return null==t?"":n(t)}},1700:(t,e,r)=>{var n=r(8805)("toUpperCase");t.exports=n},8748:(t,e,r)=>{var n=r(9029),o=r(3157),a=r(9833),i=r(2757);t.exports=function(t,e,r){return t=a(t),void 0===(e=r?void 0:e)?o(t)?i(t):n(t):t.match(e)||[]}},3379:(t,e,r)=>{"use strict";var n,o=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),a=[];function i(t){for(var e=-1,r=0;r<a.length;r++)if(a[r].identifier===t){e=r;break}return e}function u(t,e){for(var r={},n=[],o=0;o<t.length;o++){var u=t[o],s=e.base?u[0]+e.base:u[0],f=r[s]||0,c="".concat(s," ").concat(f);r[s]=f+1;var l=i(c),p={css:u[1],media:u[2],sourceMap:u[3]};-1!==l?(a[l].references++,a[l].updater(p)):a.push({identifier:c,updater:v(p,e),references:1}),n.push(c)}return n}function s(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var a=r.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var i=o(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var f,c=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function l(t,e,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=c(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function p(t,e,r){var n=r.css,o=r.media,a=r.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,h=0;function v(t,e){var r,n,o;if(e.singleton){var a=h++;r=d||(d=s(e)),n=l.bind(null,r,a,!1),o=l.bind(null,r,a,!0)}else r=s(e),n=p.bind(null,r,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var o=i(r[n]);a[o].references--}for(var s=u(t,e),f=0;f<r.length;f++){var c=i(r[f]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}r=s}}}},5709:(t,e,r)=>{"use strict";function n(t,e,r,o){this.message=t,this.expected=e,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(n,Error),n.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],r[o.type](o));if(a.sort(),a.length>0){for(e=1,n=1;e<a.length;e++)a[e-1]!==a[e]&&(a[n]=a[e],n++);a.length=n}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:n,parse:function(t,e){e=void 0!==e?e:{};var o,a={},i={start:St},u=St,s="**",f=Ot("**",!1),c=Ot("/*",!1),l="*/",p=Ot("*/",!1),d={type:"any"},h=Ot(">",!1),v=Ot("<",!1),g=Ot("@",!1),b=/^[a-z\^]/,x={type:"class",parts:[["a","z"],"^"],inverted:!1,ignoreCase:!1},y=function(t){return Yt("character",{tokens:Kt(t)})},_="^",j=Ot("^",!1),m=Ot("(",!1),A=Ot(")",!1),w=Ot("\n",!1),C=Ot("\r\n",!1),O=Ot("\\",!1),E="*",T=Ot("*",!1),k=Ot("[[",!1),S="]]",z=Ot("]]",!1),L=Ot("===",!1),I=Ot("=",!1),R=Ot(".",!1),F=Ot("INT",!1),P=Ot("EXT",!1),$=Ot("EST",!1),N="INT./EXT",U=Ot("INT./EXT",!1),M="INT/EXT",D=Ot("INT/EXT",!1),Z=Ot("I/E",!1),B="######",H=Ot("######",!1),X="#####",G=Ot("#####",!1),W="####",V=Ot("####",!1),q=Ot("###",!1),J=Ot("##",!1),Y=Ot("#",!1),K=Ot("title",!0),Q=Ot("authors",!0),tt=Ot("author",!0),et=Ot("copyright",!0),rt=Ot("credit",!0),nt=Ot("notes",!0),ot=Ot("source",!0),at=Ot("draft_date",!0),it=Ot("draft date",!0),ut=Ot("draft",!0),st=Ot("date",!0),ft=Ot("contact",!0),ct=Ot(":",!1),lt=function(t){return Kt(t)},pt=Ot("TO:",!1),dt=Ot("IN:",!1),ht="OUT:",vt=Ot("OUT:",!1),gt="_",bt=Ot("_",!1),xt=Ot(" ",!1),yt=Ot("\t",!1),_t=0,jt=0,mt=[{line:1,column:1}],At=0,wt=[],Ct=0;if("startRule"in e){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');u=i[e.startRule]}function Ot(t,e){return{type:"literal",text:t,ignoreCase:e}}function Et(e){var r,n=mt[e];if(n)return n;for(r=e-1;!mt[r];)r--;for(n={line:(n=mt[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return mt[e]=n,n}function Tt(t,e){var r=Et(t),n=Et(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function kt(t){_t<At||(_t>At&&(At=_t,wt=[]),wt.push(t))}function St(){var t,e,r,n,o,i;for(t=_t,e=[],r=Pt();r!==a;)e.push(r),r=Pt();if(e!==a)if((r=function(){var t,e,r;if(t=_t,e=[],(r=Dt())!==a)for(;r!==a;)e.push(r),r=Dt();else e=a;return e!==a&&(jt=t,e=Yt("title-page",{tokens:e})),e}())===a&&(r=null),r!==a){for(n=[],o=zt();o!==a;)n.push(o),o=zt();n!==a?(jt=t,i=n,t=e=[r,...i]):(_t=t,t=a)}else _t=t,t=a;else _t=t,t=a;return t}function zt(){var e;return(e=Lt())===a&&(e=Mt())===a&&(e=Pt())===a&&(e=function(){var e,r,n,o;if(e=_t,"==="===t.substr(_t,3)?(r="===",_t+=3):(r=a,0===Ct&&kt(L)),r!==a){for(n=[],61===t.charCodeAt(_t)?(o="=",_t++):(o=a,0===Ct&&kt(I));o!==a;)n.push(o),61===t.charCodeAt(_t)?(o="=",_t++):(o=a,0===Ct&&kt(I));n!==a&&(o=Nt())!==a?(jt=e,e=r=Yt("page-break")):(_t=e,e=a)}else _t=e,e=a;return e}())===a&&(e=function(){var e,r,n,o,i,u,s,f;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a)if((n=function(){var e;return t.substr(_t,6)===B?(e=B,_t+=6):(e=a,0===Ct&&kt(H)),e===a&&(t.substr(_t,5)===X?(e=X,_t+=5):(e=a,0===Ct&&kt(G)),e===a&&(t.substr(_t,4)===W?(e=W,_t+=4):(e=a,0===Ct&&kt(V)),e===a&&("###"===t.substr(_t,3)?(e="###",_t+=3):(e=a,0===Ct&&kt(q)),e===a&&("##"===t.substr(_t,2)?(e="##",_t+=2):(e=a,0===Ct&&kt(J)),e===a&&(35===t.charCodeAt(_t)?(e="#",_t++):(e=a,0===Ct&&kt(Y))))))),e}())!==a){for(o=[],i=Xt();i!==a;)o.push(i),i=Xt();if(o!==a)if((i=It())!==a){for(u=[],s=$t();s!==a;)u.push(s),s=$t();u!==a?(jt=e,f=i,e=r=Yt("section",{depth:n.length,tokens:f})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a}else _t=e,e=a;else _t=e,e=a;return e}())===a&&(e=function(){var e,r,n,o,i;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a)if(61===t.charCodeAt(_t)?(n="=",_t++):(n=a,0===Ct&&kt(I)),n!==a){for(o=[],i=Xt();i!==a;)o.push(i),i=Xt();o!==a&&(i=It())!==a&&Nt()!==a?(jt=e,e=r=Yt("synopsis",{tokens:i})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a;return e}())===a&&(e=function(){var e,r,n,o,i,u;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a?(n=_t,Ct++,o=function(){var e;return"INT"===t.substr(_t,3)?(e="INT",_t+=3):(e=a,0===Ct&&kt(F)),e===a&&("EXT"===t.substr(_t,3)?(e="EXT",_t+=3):(e=a,0===Ct&&kt(P)),e===a&&("EST"===t.substr(_t,3)?(e="EST",_t+=3):(e=a,0===Ct&&kt($)),e===a&&(t.substr(_t,8)===N?(e=N,_t+=8):(e=a,0===Ct&&kt(U)),e===a&&(t.substr(_t,7)===M?(e=M,_t+=7):(e=a,0===Ct&&kt(D)),e===a&&("I/E"===t.substr(_t,3)?(e="I/E",_t+=3):(e=a,0===Ct&&kt(Z))))))),e}(),Ct--,o!==a?(_t=n,n=void 0):n=a,n!==a&&(o=It())!==a&&(i=$t())!==a?(jt=e,e=r=Yt("scene",{tokens:Kt(o)})):(_t=e,e=a)):(_t=e,e=a),e===a){for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a)if(46===t.charCodeAt(_t)?(n=".",_t++):(n=a,0===Ct&&kt(R)),n!==a)if(o=_t,Ct++,i=_t,Ct++,46===t.charCodeAt(_t)?(u=".",_t++):(u=a,0===Ct&&kt(R)),Ct--,u===a?i=void 0:(_t=i,i=a),Ct--,i!==a?(_t=o,o=void 0):o=a,o!==a){for(i=[],u=Xt();u!==a;)i.push(u),u=Xt();i!==a&&(u=It())!==a&&$t()!==a?(jt=e,e=r=Yt("scene",{tokens:u})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a;else _t=e,e=a}return e}())===a&&(e=function(){var e,r,n,o,i,u,s,f;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a)if(62===t.charCodeAt(_t)?(n=">",_t++):(n=a,0===Ct&&kt(h)),n!==a){for(o=[],i=Xt();i!==a;)o.push(i),i=Xt();if(o!==a){if(i=[],u=_t,s=_t,Ct++,(f=$t())===a&&(60===t.charCodeAt(_t)?(f="<",_t++):(f=a,0===Ct&&kt(v))),Ct--,f===a?s=void 0:(_t=s,s=a),s!==a&&(f=Ut())!==a?(jt=u,u=s=f):(_t=u,u=a),u!==a)for(;u!==a;)i.push(u),u=_t,s=_t,Ct++,(f=$t())===a&&(60===t.charCodeAt(_t)?(f="<",_t++):(f=a,0===Ct&&kt(v))),Ct--,f===a?s=void 0:(_t=s,s=a),s!==a&&(f=Ut())!==a?(jt=u,u=s=f):(_t=u,u=a);else i=a;if(i!==a)if(60===t.charCodeAt(_t)?(u="<",_t++):(u=a,0===Ct&&kt(v)),u!==a){for(s=[],f=Xt();f!==a;)s.push(f),f=Xt();s!==a&&(f=Nt())!==a?(jt=e,e=r=Yt("center",{tokens:Kt(i)})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a}else _t=e,e=a}else _t=e,e=a;else _t=e,e=a;return e}())===a&&(e=function(){var e,r,n,o;if(e=_t,(r=Rt())!==a){for(n=[],o=Pt();o!==a;)n.push(o),o=Pt();n!==a&&(o=function(){var e,r,n,o;if(e=_t,(r=function(){var e,r,n,o,i,u,s;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a)if(64===t.charCodeAt(_t)?(n="@",_t++):(n=a,0===Ct&&kt(g)),n!==a){if(o=[],i=_t,u=_t,Ct++,(s=$t())===a&&(94===t.charCodeAt(_t)?(s=_,_t++):(s=a,0===Ct&&kt(j))),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a&&(s=Ut())!==a?(jt=i,i=u=s):(_t=i,i=a),i!==a)for(;i!==a;)o.push(i),i=_t,u=_t,Ct++,(s=$t())===a&&(94===t.charCodeAt(_t)?(s=_,_t++):(s=a,0===Ct&&kt(j))),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a&&(s=Ut())!==a?(jt=i,i=u=s):(_t=i,i=a);else o=a;if(o!==a)if(94===t.charCodeAt(_t)?(i=_,_t++):(i=a,0===Ct&&kt(j)),i!==a){for(u=[],s=Xt();s!==a;)u.push(s),s=Xt();u!==a&&(s=Nt())!==a?(jt=e,e=r=y(o)):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a}else _t=e,e=a;else _t=e,e=a;if(e===a){for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a){if(n=[],o=_t,i=_t,Ct++,(u=$t())===a&&(b.test(t.charAt(_t))?(u=t.charAt(_t),_t++):(u=a,0===Ct&&kt(x))),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a),o!==a)for(;o!==a;)n.push(o),o=_t,i=_t,Ct++,(u=$t())===a&&(b.test(t.charAt(_t))?(u=t.charAt(_t),_t++):(u=a,0===Ct&&kt(x))),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a);else n=a;if(n!==a)if(94===t.charCodeAt(_t)?(o=_,_t++):(o=a,0===Ct&&kt(j)),o!==a){for(i=[],u=Xt();u!==a;)i.push(u),u=Xt();i!==a&&(u=Nt())!==a?(jt=e,e=r=y(n)):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a}else _t=e,e=a}return e}())!==a){if(n=[],(o=Ft())!==a)for(;o!==a;)n.push(o),o=Ft();else n=a;n!==a?(jt=e,e=r=function(t,e){const{dual:r}=t;return Yt("dialogue",{dual:r,tokens:Kt([t,...e])})}(r,n)):(_t=e,e=a)}else _t=e,e=a;return e}())!==a?(jt=e,e=r=Yt("dual-dialogue",{tokens:[r,o]})):(_t=e,e=a)}else _t=e,e=a;return e}())===a&&(e=Rt())===a&&(e=function(){var e,r,n,o,i,u,s,f;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a)if(62===t.charCodeAt(_t)?(n=">",_t++):(n=a,0===Ct&&kt(h)),n!==a){for(o=[],i=Xt();i!==a;)o.push(i),i=Xt();o!==a&&(i=It())!==a&&(u=Nt())!==a?(jt=e,e=r=Yt("transition-right",{tokens:i})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a;if(e===a){for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a){if(n=[],o=_t,i=_t,Ct++,(u=$t())===a&&(u=Ht()),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a),o!==a)for(;o!==a;)n.push(o),o=_t,i=_t,Ct++,(u=$t())===a&&(u=Ht()),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a);else n=a;n!==a&&(o=Ht())!==a&&(i=Nt())!==a?(jt=e,s=n,f=o,e=r=Yt("transition-right",{tokens:Kt([...s,...f])})):(_t=e,e=a)}else _t=e,e=a}return e}())===a&&(e=function(){var t,e;return t=_t,(e=It())!==a&&Nt()!==a?(jt=t,t=e=Yt("action",{tokens:e})):(_t=t,t=a),t}()),e}function Lt(){var e,r,n,o,i,u;if(e=_t,"/*"===t.substr(_t,2)?(r="/*",_t+=2):(r=a,0===Ct&&kt(c)),r!==a){if(n=[],o=_t,i=_t,Ct++,t.substr(_t,2)===l?(u=l,_t+=2):(u=a,0===Ct&&kt(p)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a?((u=$t())===a&&(t.length>_t?(u=t.charAt(_t),_t++):(u=a,0===Ct&&kt(d))),u!==a?o=i=[i,u]:(_t=o,o=a)):(_t=o,o=a),o!==a)for(;o!==a;)n.push(o),o=_t,i=_t,Ct++,t.substr(_t,2)===l?(u=l,_t+=2):(u=a,0===Ct&&kt(p)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a?((u=$t())===a&&(t.length>_t?(u=t.charAt(_t),_t++):(u=a,0===Ct&&kt(d))),u!==a?o=i=[i,u]:(_t=o,o=a)):(_t=o,o=a);else n=a;if(n!==a)if(t.substr(_t,2)===l?(o=l,_t+=2):(o=a,0===Ct&&kt(p)),o!==a){for(i=[],u=$t();u!==a;)i.push(u),u=$t();i!==a?(jt=e,e=r=Yt("boneyard",{tokens:Kt(n)})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a}else _t=e,e=a;return e}function It(){var t,e,r;if(t=_t,e=[],(r=Ut())!==a)for(;r!==a;)e.push(r),r=Ut();else e=a;return e!==a&&(jt=t,e=Kt(e)),e}function Rt(){var e,r,n,o,i;if(e=_t,(r=function(){var e,r,n,o,i,u,s;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a?(64===t.charCodeAt(_t)?(n="@",_t++):(n=a,0===Ct&&kt(g)),n!==a&&(o=It())!==a&&(i=Nt())!==a?(jt=e,e=r=Yt("character",{tokens:o})):(_t=e,e=a)):(_t=e,e=a),e===a){for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a){if(n=[],o=_t,i=_t,Ct++,u=$t(),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a?(u=_t,Ct++,b.test(t.charAt(_t))?(s=t.charAt(_t),_t++):(s=a,0===Ct&&kt(x)),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a&&(s=Ut())!==a?(jt=o,o=i=s):(_t=o,o=a)):(_t=o,o=a),o!==a)for(;o!==a;)n.push(o),o=_t,i=_t,Ct++,u=$t(),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a?(u=_t,Ct++,b.test(t.charAt(_t))?(s=t.charAt(_t),_t++):(s=a,0===Ct&&kt(x)),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a&&(s=Ut())!==a?(jt=o,o=i=s):(_t=o,o=a)):(_t=o,o=a);else n=a;n!==a&&(o=Nt())!==a?(jt=e,e=r=y(n)):(_t=e,e=a)}else _t=e,e=a}return e}())!==a){if(n=[],(o=Ft())!==a)for(;o!==a;)n.push(o),o=Ft();else n=a;n!==a?(jt=e,i=n,e=r=Yt("dialogue",{tokens:Kt([r,...i])})):(_t=e,e=a)}else _t=e,e=a;return e}function Ft(){var e;return(e=function(){var e,r,n,o,i,u,s,f;for(e=_t,r=[],n=Xt();n!==a;)r.push(n),n=Xt();if(r!==a)if(40===t.charCodeAt(_t)?(n="(",_t++):(n=a,0===Ct&&kt(m)),n!==a){if(o=[],i=_t,u=_t,Ct++,(s=$t())===a&&(41===t.charCodeAt(_t)?(s=")",_t++):(s=a,0===Ct&&kt(A))),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a&&(s=Ut())!==a?(jt=i,i=u=s):(_t=i,i=a),i!==a)for(;i!==a;)o.push(i),i=_t,u=_t,Ct++,(s=$t())===a&&(41===t.charCodeAt(_t)?(s=")",_t++):(s=a,0===Ct&&kt(A))),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a&&(s=Ut())!==a?(jt=i,i=u=s):(_t=i,i=a);else o=a;if(o!==a)if(41===t.charCodeAt(_t)?(i=")",_t++):(i=a,0===Ct&&kt(A)),i!==a){for(u=[],s=Xt();s!==a;)u.push(s),s=Xt();u!==a&&(s=Nt())!==a?(jt=e,f=o,e=r=Yt("dialogue-paren",{tokens:Kt(["(",...f,")"])})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a}else _t=e,e=a;else _t=e,e=a;return e}())===a&&(e=function(){var t,e,r,n,o,i;for(t=_t,e=[],r=Xt();r!==a;)e.push(r),r=Xt();if(e!==a){if(r=[],n=_t,o=_t,Ct++,i=$t(),Ct--,i===a?o=void 0:(_t=o,o=a),o!==a&&(i=Ut())!==a?(jt=n,n=o=i):(_t=n,n=a),n!==a)for(;n!==a;)r.push(n),n=_t,o=_t,Ct++,i=$t(),Ct--,i===a?o=void 0:(_t=o,o=a),o!==a&&(i=Ut())!==a?(jt=n,n=o=i):(_t=n,n=a);else r=a;r!==a&&(n=Nt())!==a?(jt=t,t=e=Yt("dialogue-line",{tokens:Kt(r)})):(_t=t,t=a)}else _t=t,t=a;return t}()),e}function Pt(){var t,e,r;for(t=_t,e=[],r=Xt();r!==a;)e.push(r),r=Xt();return e!==a&&(r=$t())!==a?(jt=t,t=e=Yt("empty")):(_t=t,t=a),t}function $t(){var e;return 10===t.charCodeAt(_t)?(e="\n",_t++):(e=a,0===Ct&&kt(w)),e===a&&("\r\n"===t.substr(_t,2)?(e="\r\n",_t+=2):(e=a,0===Ct&&kt(C))),e}function Nt(){var e;return(e=$t())===a&&(e=function(){var e,r;return e=_t,Ct++,t.length>_t?(r=t.charAt(_t),_t++):(r=a,0===Ct&&kt(d)),Ct--,r===a?e=void 0:(_t=e,e=a),e}()),e}function Ut(){var e;return(e=function(){var e,r,n;return e=_t,92===t.charCodeAt(_t)?(r="\\",_t++):(r=a,0===Ct&&kt(O)),r!==a?(t.length>_t?(n=t.charAt(_t),_t++):(n=a,0===Ct&&kt(d)),n!==a?(jt=e,e=r=`&#${n.charCodeAt(0)};`):(_t=e,e=a)):(_t=e,e=a),e}())===a&&(e=Mt())===a&&(e=Lt())===a&&(e=function(){var e,r,n,o,i,u;if(e=_t,t.substr(_t,2)===s?(r=s,_t+=2):(r=a,0===Ct&&kt(f)),r!==a){if(n=[],o=_t,i=_t,Ct++,t.substr(_t,2)===s?(u=s,_t+=2):(u=a,0===Ct&&kt(f)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a),o!==a)for(;o!==a;)n.push(o),o=_t,i=_t,Ct++,t.substr(_t,2)===s?(u=s,_t+=2):(u=a,0===Ct&&kt(f)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a);else n=a;n!==a?(t.substr(_t,2)===s?(o=s,_t+=2):(o=a,0===Ct&&kt(f)),o!==a?(jt=e,e=r=Yt("bold",{inline:!0,tokens:Kt(n)})):(_t=e,e=a)):(_t=e,e=a)}else _t=e,e=a;return e}())===a&&(e=function(){var e,r,n,o,i,u;if(e=_t,42===t.charCodeAt(_t)?(r=E,_t++):(r=a,0===Ct&&kt(T)),r!==a){if(n=[],o=_t,i=_t,Ct++,42===t.charCodeAt(_t)?(u=E,_t++):(u=a,0===Ct&&kt(T)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a),o!==a)for(;o!==a;)n.push(o),o=_t,i=_t,Ct++,42===t.charCodeAt(_t)?(u=E,_t++):(u=a,0===Ct&&kt(T)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a);else n=a;n!==a?(42===t.charCodeAt(_t)?(o=E,_t++):(o=a,0===Ct&&kt(T)),o!==a?(jt=e,e=r=Yt("italic",{inline:!0,tokens:Kt(n)})):(_t=e,e=a)):(_t=e,e=a)}else _t=e,e=a;return e}())===a&&(e=function(){var e,r,n,o,i,u;if(e=_t,95===t.charCodeAt(_t)?(r=gt,_t++):(r=a,0===Ct&&kt(bt)),r!==a){if(n=[],o=_t,i=_t,Ct++,95===t.charCodeAt(_t)?(u=gt,_t++):(u=a,0===Ct&&kt(bt)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a),o!==a)for(;o!==a;)n.push(o),o=_t,i=_t,Ct++,95===t.charCodeAt(_t)?(u=gt,_t++):(u=a,0===Ct&&kt(bt)),Ct--,u===a?i=void 0:(_t=i,i=a),i!==a&&(u=Ut())!==a?(jt=o,o=i=u):(_t=o,o=a);else n=a;n!==a?(95===t.charCodeAt(_t)?(o=gt,_t++):(o=a,0===Ct&&kt(bt)),o!==a?(jt=e,e=r=Yt("underline",{inline:!0,tokens:Kt(n)})):(_t=e,e=a)):(_t=e,e=a)}else _t=e,e=a;return e}())===a&&(e=function(){var e,r,n;return e=_t,r=_t,Ct++,n=$t(),Ct--,n===a?r=void 0:(_t=r,r=a),r!==a?(t.length>_t?(n=t.charAt(_t),_t++):(n=a,0===Ct&&kt(d)),n!==a?(jt=e,e=r=n):(_t=e,e=a)):(_t=e,e=a),e}()),e}function Mt(){var e,r,n,o,i,u,s,f;if(e=_t,"[["===t.substr(_t,2)?(r="[[",_t+=2):(r=a,0===Ct&&kt(k)),r!==a){for(n=[],o=Xt();o!==a;)n.push(o),o=Xt();if(n!==a){if(o=[],i=_t,u=_t,Ct++,t.substr(_t,2)===S?(s=S,_t+=2):(s=a,0===Ct&&kt(z)),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a?((s=$t())===a&&(t.length>_t?(s=t.charAt(_t),_t++):(s=a,0===Ct&&kt(d))),s!==a?i=u=[u,s]:(_t=i,i=a)):(_t=i,i=a),i!==a)for(;i!==a;)o.push(i),i=_t,u=_t,Ct++,t.substr(_t,2)===S?(s=S,_t+=2):(s=a,0===Ct&&kt(z)),Ct--,s===a?u=void 0:(_t=u,u=a),u!==a?((s=$t())===a&&(t.length>_t?(s=t.charAt(_t),_t++):(s=a,0===Ct&&kt(d))),s!==a?i=u=[u,s]:(_t=i,i=a)):(_t=i,i=a);else o=a;if(o!==a){for(i=[],u=Xt();u!==a;)i.push(u),u=Xt();if(i!==a)if(t.substr(_t,2)===S?(u=S,_t+=2):(u=a,0===Ct&&kt(z)),u!==a){for(s=[],f=$t();f!==a;)s.push(f),f=$t();s!==a?(jt=e,e=r=Yt("notes",{tokens:Kt(o)})):(_t=e,e=a)}else _t=e,e=a;else _t=e,e=a}else _t=e,e=a}else _t=e,e=a}else _t=e,e=a;return e}function Dt(){var t,e,r,n,o,i,u,s;for(t=_t,e=[],r=Xt();r!==a;)e.push(r),r=Xt();if(e!==a)if((r=Zt())!==a){for(n=[],o=Xt();o!==a;)n.push(o),o=Xt();if(n!==a){for(o=[],i=It();i!==a;)o.push(i),i=It();if(o!==a)if((i=Nt())!==a){for(u=[],s=Bt();s!==a;)u.push(s),s=Bt();u!==a?(jt=t,t=e=Yt(r,{tokens:qt([o,u])})):(_t=t,t=a)}else _t=t,t=a;else _t=t,t=a}else _t=t,t=a}else _t=t,t=a;else _t=t,t=a;return t}function Zt(){var e,r,n;return e=_t,"title"===t.substr(_t,5).toLowerCase()?(r=t.substr(_t,5),_t+=5):(r=a,0===Ct&&kt(K)),r===a&&("authors"===t.substr(_t,7).toLowerCase()?(r=t.substr(_t,7),_t+=7):(r=a,0===Ct&&kt(Q)),r===a&&("author"===t.substr(_t,6).toLowerCase()?(r=t.substr(_t,6),_t+=6):(r=a,0===Ct&&kt(tt)),r===a&&("copyright"===t.substr(_t,9).toLowerCase()?(r=t.substr(_t,9),_t+=9):(r=a,0===Ct&&kt(et)),r===a&&("credit"===t.substr(_t,6).toLowerCase()?(r=t.substr(_t,6),_t+=6):(r=a,0===Ct&&kt(rt)),r===a&&("notes"===t.substr(_t,5).toLowerCase()?(r=t.substr(_t,5),_t+=5):(r=a,0===Ct&&kt(nt)),r===a&&("source"===t.substr(_t,6).toLowerCase()?(r=t.substr(_t,6),_t+=6):(r=a,0===Ct&&kt(ot)),r===a&&("draft_date"===t.substr(_t,10).toLowerCase()?(r=t.substr(_t,10),_t+=10):(r=a,0===Ct&&kt(at)),r===a&&("draft date"===t.substr(_t,10).toLowerCase()?(r=t.substr(_t,10),_t+=10):(r=a,0===Ct&&kt(it)),r===a&&("draft"===t.substr(_t,5).toLowerCase()?(r=t.substr(_t,5),_t+=5):(r=a,0===Ct&&kt(ut)),r===a&&("date"===t.substr(_t,4).toLowerCase()?(r=t.substr(_t,4),_t+=4):(r=a,0===Ct&&kt(st)),r===a&&("contact"===t.substr(_t,7).toLowerCase()?(r=t.substr(_t,7),_t+=7):(r=a,0===Ct&&kt(ft))))))))))))),r!==a?(58===t.charCodeAt(_t)?(n=":",_t++):(n=a,0===Ct&&kt(ct)),n!==a?(jt=e,e=r=Jt(r)):(_t=e,e=a)):(_t=e,e=a),e}function Bt(){var t,e,r,n,o,i;for(t=_t,e=[],r=Xt();r!==a;)e.push(r),r=Xt();if(e!==a){if(r=[],n=_t,o=_t,Ct++,(i=Zt())===a&&(i=$t()),Ct--,i===a?o=void 0:(_t=o,o=a),o!==a&&(i=It())!==a?(jt=n,n=o=lt(i)):(_t=n,n=a),n!==a)for(;n!==a;)r.push(n),n=_t,o=_t,Ct++,(i=Zt())===a&&(i=$t()),Ct--,i===a?o=void 0:(_t=o,o=a),o!==a&&(i=It())!==a?(jt=n,n=o=lt(i)):(_t=n,n=a);else r=a;r!==a&&(n=Nt())!==a?(jt=t,t=e=Yt("title-multiline",{tokens:Kt(r)})):(_t=t,t=a)}else _t=t,t=a;return t}function Ht(){var e;return"TO:"===t.substr(_t,3)?(e="TO:",_t+=3):(e=a,0===Ct&&kt(pt)),e===a&&("IN:"===t.substr(_t,3)?(e="IN:",_t+=3):(e=a,0===Ct&&kt(dt)),e===a&&(t.substr(_t,4)===ht?(e=ht,_t+=4):(e=a,0===Ct&&kt(vt)))),e}function Xt(){var e;return 32===t.charCodeAt(_t)?(e=" ",_t++):(e=a,0===Ct&&kt(xt)),e===a&&(9===t.charCodeAt(_t)?(e="\t",_t++):(e=a,0===Ct&&kt(yt))),e}const Gt=r(4486),Wt=r(1469),Vt=r(7037),qt=r(2348),Jt=r(8929);function Yt(t,e){return{line:Tt(jt,_t).start.line,type:t,...e}}function Kt(t){if(!Wt(t))return t;const e=[];let r=[];return Gt(t,(t=>{Vt(t)?r.push(t):(r.length&&(e.push(Yt("text",{text:r.join("")})),r=[]),e.push(t))})),r.length&&e.push(Yt("text",{text:r.join("")})),qt(e)}if((o=u())!==a&&_t===t.length)return o;throw o!==a&&_t<t.length&&kt({type:"end"}),Qt=wt,te=At<t.length?t.charAt(At):null,ee=At<t.length?Tt(At,At+1):Tt(At,At),new n(n.buildMessage(Qt,te),Qt,te,ee);var Qt,te,ee}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n](a,a.exports,r),a.loaded=!0,a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";r.d(n,{default:()=>A});var t=r(2525),e=r.n(t),o=r(7361),a=r.n(o),i=r(1804),u=r.n(i),s=r(6604),f=r.n(s),c=r(3379),l=r.n(c),p=r(5902);l()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var d=r(5709);const h=new Set(["type","tokens","text","class","tag","inline"]);function v(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function g(t){return Object.keys(t).reduce(((e,r)=>{const n=t[r];return h.has(r)||null==n||e.push(` data-${v(r)}="${n}"`),e}),[]).join("")}const b={notes:(t,e)=>`<div class="notes"${g(t)}>\n      ${e.trim().replace(/\n/gim,"<br>")}\n    </div>`,empty:t=>b.default(t,"&nbsp;"),bold:{tag:"strong"},italic:{tag:"em"},underline:{tag:"u"},uppercase:{tag:"span",class:"uppercase"},text:(t,e)=>e.replace(/^[ \t]+/,(t=>t.split("").map((t=>"\t"===t?"&nbsp;&nbsp;&nbsp;&nbsp;":"&nbsp")).join(""))),extension:{tag:"span"},lane:{class:"col"},synopsis:{class:"notes"},default(t,e){const{type:r,tag:n="div",text:o}=t,a=o||e;return` <${n} class="${t.class||v(r)}"${g(t)}>${a}</${n}>`}};function x(t=[],e=[]){return t.map((t=>{const r=function(t){const e=b[t.type]||b.default;return"object"==typeof e?(t,r,n)=>b.default({...t,...e},r,n):e}(t),n="text"!==t.type&&!t.inline;n&&e.unshift(t.type);const o=r(t,t.text||x(t.tokens,e),e);return n&&e.shift(),o})).join("")}function y(t,e=100){return t/e*100+"%"}function _(t){return`${t}in`}const j={pageWidth:8.5,left:1.5,right:1,transitionLeft:5.5,transitionRight:1,characterLeft:3.5,characterRight:1,parenLeft:3,parenRight:3.25,dialogueLeft:2.5,dialogueRight:2.5,notesLeft:1,notesRight:1,dualLeft:2,dualRight:1,dualGutter:.25,dualDialogueLeft:2,dialDialogueRight:1,dualCharacterLeft:.75,dualCharacterRight:.25,dualParenLeft:.25,dualParentRight:.25},m={shared:{fontFamily:"Courier Prime",fontSize:"12pt",lineHeight:"14pt",bgColor:"#FFFFFF",notesColor:"#AAAAA",color:"#333333"},fixed:j,responsive:f()(j,(t=>t/j.pageWidth*100))};function A(t,r){const n=a()(r,"fountainString",t.textContent.trim()),o=function(t){const r=a()(t,"responsive",false),n=a()(t,"notes",false),o=a()(t,"styles",{}),i=r?m.responsive:m.fixed,s=r?y:_;return function(t){e()(i,((e,r)=>{const n=a()(o,r,e);t.style.setProperty(`--${u()(r)}`,s(n))})),e()(m.shared,((e,r)=>{const n=a()(o,r,e);t.style.setProperty(`--${u()(r)}`,n)})),n&&t.style.setProperty("--display-notes","block")}}(r),i=(0,d.parse)(n);t.innerHTML=function(t){return`<div class="script">${x(t,[])}</div>`}(i),t.classList.add("fountainer"),o(t)}})(),n.default})()}));